<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Cyberpunk Cinematic</title>

<style>
body{margin:0;overflow:hidden;background:black}
button{
 position:absolute;
 top:20px;
 left:20px;
 padding:15px 25px;
 font-size:18px;
 background:cyan;
 border:none;
 cursor:pointer;
 z-index:5;
}
</style>
</head>

<body>

<button onclick="start()">Start Cinematic</button>

<script type="module">
import * as THREE from "https://unpkg.com/three@0.152.0/build/three.module.js";

const scene = new THREE.Scene();
scene.fog = new THREE.Fog(0x000000,10,60);

// camera
const camera = new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,0.1,1000);
camera.position.set(-10,3,8);

// renderer
const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth,window.innerHeight);
renderer.setPixelRatio(window.devicePixelRatio);
document.body.appendChild(renderer.domElement);

// neon lights
const cyanLight = new THREE.PointLight(0x00ffff,3,50);
cyanLight.position.set(5,6,5);
scene.add(cyanLight);

const pinkLight = new THREE.PointLight(0xff00ff,3,50);
pinkLight.position.set(-5,6,5);
scene.add(pinkLight);

// ground road
const roadGeo = new THREE.PlaneGeometry(200,20);
const roadMat = new THREE.MeshStandardMaterial({
 color:0x050505,
 metalness:0.9,
 roughness:0.2
});
const road = new THREE.Mesh(roadGeo,roadMat);
road.rotation.x = -Math.PI/2;
scene.add(road);

// robot body
const robot = new THREE.Group();

const body = new THREE.Mesh(
 new THREE.BoxGeometry(1.2,2,1),
 new THREE.MeshStandardMaterial({color:0x00ffff,emissive:0x00ffff})
);
body.position.y=1;
robot.add(body);

// head
const head = new THREE.Mesh(
 new THREE.BoxGeometry(0.8,0.6,0.8),
 new THREE.MeshStandardMaterial({color:0xffffff,emissive:0x00ffff})
);
head.position.y=2.3;
robot.add(head);

scene.add(robot);

// buildings cyberpunk
for(let i=-50;i<50;i+=4){
 let h=Math.random()*10+5;
 let geo=new THREE.BoxGeometry(2,h,2);
 let mat=new THREE.MeshStandardMaterial({color:0x0a0a0a});

 let b1=new THREE.Mesh(geo,mat);
 b1.position.set(i,h/2,-8);
 scene.add(b1);

 let b2=new THREE.Mesh(geo,mat);
 b2.position.set(i,h/2,8);
 scene.add(b2);
}

// rain
const rainGeo=new THREE.BufferGeometry();
const rainCount=4000;
const pos=[];

for(let i=0;i<rainCount;i++){
 pos.push((Math.random()-0.5)*200);
 pos.push(Math.random()*50);
 pos.push((Math.random()-0.5)*50);
}

rainGeo.setAttribute("position",new THREE.Float32BufferAttribute(pos,3));
const rainMat=new THREE.PointsMaterial({color:0x00ffff,size:0.07});
const rain=new THREE.Points(rainGeo,rainMat);
scene.add(rain);

// running
let running=false;
window.start=()=> running=true;

function animate(){
 requestAnimationFrame(animate);

 if(running){
   robot.position.x+=0.2;
   camera.position.x+=0.2;

   // camera follow
   camera.lookAt(robot.position);
 }

 // rain fall
 const p=rain.geometry.attributes.position;
 for(let i=0;i<p.count;i++){
   p.array[i*3+1]-=0.6;
   if(p.array[i*3+1]<0) p.array[i*3+1]=50;
 }
 p.needsUpdate=true;

 renderer.render(scene,camera);
}
animate();
</script>
</body>
</html>
